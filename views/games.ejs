<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="games.css">
    <script src="../lib/p5.min.js" type="text/javascript"></script>
    <script src="../game/ship.js" type="text/javascript"></script>
    <script src="../game/sketch.js" type="text/javascript"></script>
    <style media="screen">
    canvas {
      padding: 5px;
    }
    .boards {
      text-align: center;
      width: 400px;
      cursor: pointer;
    }
    </style>
  </head>
  <body>
    <ul>
      <script> var games </script>
      <% if (games) { %>
        <p style="display:none" id="games"><%= JSON.stringify(games); %></p>
        <script>
          {
            let p = document.getElementById('games');
            games = JSON.parse(p.innerHTML);
            p.remove();
          }
        </script>
      <% games.forEach(function(game) { %>
      <li>
        <div id="<%= game.id %>">
          <span style="color:red"><%= game.players[0].slice(8) %></span> vs
          <span style="color:blue"><%= game.players[1].slice(8) %></span><br>
          turn: <span class="turn"><%= game.turn %></span><br>
          the player <span style="color:yellow"><%= game.players[game.initiative ? 0 : 1].slice(8) %></span> has initiative<br>
          id: <span style="font-size:25px;font-style:italic"><%= game.id %></span><br>
          time live: <span class="time" style="display:none"><%= game.start %></span><br>
          <div class="boards"></div>
        </div>
      </li>
      <% });}; %>

    </ul>
  </body>
  <script src="/socket.io/socket.io.js"></script>
  <script src="update.js"></script>
  <script src="../game/sketch.js" type="text/javascript">

  </script>
  <script src="controlTime.js"></script>
</html>
